<script src="https://api.paymentwall.com/brick/brick.1.3.js"></script>
<div class="paymentwall-brick-form">
    <input type="hidden" name="brick[token]" id="brick-token"/>
    <input type="hidden" name="brick[fingerprint]" id="brick-fingerprint"/>
    <input type="hidden" name="brick[success]" id="brick-get-token-success" value="0"/>

    <p class="form-row form-row form-row-wide validate-required">
        <label>
            <strong>{{entry_card_number}}</strong>
            <span class="required">*</span>
        </label>
        <input data-brick="card-number" id="card-number" class="input-text wc-credit-card-form-card-number"
               type="text" placeholder="•••• •••• •••• ••••" autocomplete="off"/>
    </p>

    <p class="form-row form-row form-row-wide validate-required">
        <label>
            <strong>{{entry_card_expiration}}</strong>
            <span class="required">*</span>
        </label>
        <span>
            <input data-brick="card-expiration-month" id="card-expiration-month" class="input-text"
                   type="text" placeholder="MM" size="2"/>
            / <input data-brick="card-expiration-year" id="card-expiration-year" class="input-text"
                     type="text" placeholder="YY" size="4"/>
        </span>
    </p>

    <p class="form-row form-row form-row-wide validate-required">
        <label>
            <strong>{{entry_card_cvv}}</strong>
            <span class="required">*</span>
        </label>
        <span>
            <input data-brick="card-cvv" id="card-cvv" class="input-text wc-credit-card-form-card-cvc" type="text"
                   placeholder="CVV" autocomplete="off"/>
        </span>
    </p>
</div>
<script type="text/javascript">
    var brick = new Brick({
        public_key: '{{public_key}}',
        form: {formatter: true}
    }, 'custom');

    // Brick manipulate the checkout
    jQuery('form.checkout').unbind('checkout_place_order_{{payment_id}}').on('checkout_place_order_{{payment_id}}', function (e) {
        e.preventDefault();

        // Check token created
        if (jQuery('#brick-get-token-success').val() == '1') {
            jQuery('#brick-get-token-success').val(0)
            return true;
        }

        brickTokenizeCard();
        return false;
    });
</script>
<style>
    #card-expiration-month {
        width: 80px;
    }

    #card-expiration-year {
        width: 80px;
    }

    #card-cvv {
        width: 80px;
    }
</style>
